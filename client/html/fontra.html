<!DOCTYPE html>
<html>
  <head>
    <title>Fontra</title>
    <style type="text/css">

      html, body {
        font-family: sans-serif;
        font-size: 0.95em;
        padding: 0;
        margin:  0;
        width: 100%;
        height: 100%;
        overflow: hidden; /* Hide scrollbars */
        white-space: nowrap;
        overscroll-behavior: none;
        touch-action: none;
      }

      .page {
        display: flex;
        height: 100%;
        flex-direction: row;
      }

      .controls {
        padding: 1em;
        background: lightgray;
        display: flex;
        flex-direction: column;
        gap:  0.5em;
      }

      .slider-label {
      }

      .slider {
        margin: 0;
        padding: 0;
      }

      .canvas-container {
        width: 100%;
        height: 100%;
      }

      #edit-canvas {
        background: #222;
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
        overscroll-behavior: none;
        touch-action: none;
      }

    </style>
  </head>
  <body>
    <div class="page">

      <div class="controls">
        <input type="text" name="" oninput="glyphNameChanged(this.value)">

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 0)">
          #0
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 1)">
          #1
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 2)">
          #2
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 3)">
          #3
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 4)">
          #4
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 5)">
          #5
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 6)">
          #6
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 7)">
          #7
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 8)">
          #8
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 9)">
          #9
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 10)">
          #10
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 11)">
          #11
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 12)">
          #12
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 13)">
          #13
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 14)">
          #14
        </label>

        <label class="slider-label">
        <input type="range" min="0" max="100" value="0" step="any" class="slider"
            oninput="sliderChanged(this.value, 15)">
          #15
        </label>



      </div>

      <div class="canvas-container">
        <canvas id="edit-canvas"></canvas>
      </div>

  </div>
  </body>
    <script type="module">
      import { CanvasController } from "../src/canvas-controller.js";
      import { getRemoteProxy } from "../src/remote.js";
      const bodyElement = document.querySelector("body");
      const canvas = document.querySelector("#edit-canvas");
      const remote = getRemoteProxy("ws://localhost:8001/");
      const canvasController = new CanvasController(canvas, remote);

      async function glyphNameChanged(glyphName) {
        await canvasController.setGlyph(glyphName);
      }

      function sliderChanged(value, axisTag) {
        canvasController.setAxisValue(value / 100, axisTag);
      }

      window.sliderChanged = sliderChanged;
      window.glyphNameChanged = glyphNameChanged;
    </script>
</html>
