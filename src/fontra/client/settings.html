<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Fontra Settings</title>
  <link href="/css/core.css" rel="stylesheet">
  <style type="text/css">

body {
  font-size: 1.1em;
  margin: 1em;
  padding-left: 5em;
}

h1 {
  font-size: 1.5em;
}

h2 {
  font-size: 1em;
}

#settings-theme {
  display: grid;
  grid-template-columns: min-content min-content;  
}

  </style>

</head>
<body>
  <a href="/"><img src="/images/fontra-icon.svg" width="100" height="100"></a>
  <h1>Fontra Settings</h1>
  <h2>Theme</h2>
  <div id="settings-theme">

    <input id="theme-automatic" value="automatic" onclick="themeSwitch()" name="theme-settings" type="radio" checked/>
    <label for="theme-automatic">Automatic (use OS setting)</label>

    <input id="theme-light" value="light" onclick="themeSwitch()" name="theme-settings" type="radio" />
    <label for="theme-light">Light theme</label>

    <input id="theme-dark" value="dark" onclick="themeSwitch()" name="theme-settings" type="radio" />
    <label for="theme-dark">Dark theme</label>

  </div>
</body>
<script type="text/javascript">

function themeSwitch() {
  const rootElement = document.querySelector("html");
  const value = document.querySelector('input[name="theme-settings"]:checked').value;
  rootElement.classList.remove("light-theme");
  rootElement.classList.remove("dark-theme");
  if (value !== "automatic") {
    rootElement.classList.add(value + "-theme");
  }
  localStorage.setItem("fontra-theme", value);
}

const themeValue = localStorage.getItem("fontra-theme");
if (themeValue) {
  for (const element of document.querySelectorAll('input[name="theme-settings"]')) {
    element.checked = themeValue === element.value;
  }
  themeSwitch();
}

</script>
</html>
